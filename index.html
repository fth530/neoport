<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>YatÄ±rÄ±m PortfÃ¶yÃ¼m</title>

    <!-- PWA -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#111827">
    <link rel="apple-touch-icon" href="/public/icons/icon-192.svg">
    <link rel="icon" type="image/svg+xml" href="/public/favicon.svg">
    <link rel="icon" type="image/x-icon" href="/public/favicon.svg">

    <!-- TailwindCSS (Production Build) -->
    <link rel="stylesheet" href="/public/css/styles.css">

    <!-- Google Fonts: Inter & Poppins -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@500;600;700&display=swap"
        rel="stylesheet">

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

    <script src="/socket.io/socket.io.js"></script>

    <style>
        /* Mobile Polish (component-specific) */
        button,
        input,
        select {
            min-height: 44px;
        }
    </style>
</head>

<body
    class="text-gray-800 dark:text-gray-100 antialiased min-h-screen flex flex-col bg-f3f4f6 dark:bg-gray-900 transition-colors duration-300">

    <!-- HEADER SECTION -->
    <header
        class="bg-gradient-to-r from-blue-700 via-indigo-700 to-purple-800 text-white pb-24 pt-8 px-4 shadow-lg rounded-b-[2.5rem] relative transition-all">
        <div class="max-w-4xl mx-auto flex justify-between items-center">
            <div>
                <h1 class="text-3xl font-bold flex items-center gap-2">
                    <i class="fa-solid fa-chart-pie opacity-80"></i> PortfÃ¶yÃ¼m
                </h1>
            </div>

            <!-- Connection Status & Dark Mode Toggle -->
            <div class="flex items-center gap-3">
                <!-- PWA Install Button -->
                <button id="installButton"
                    class="hidden bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 px-3 py-2 rounded-full text-sm text-white/90 transition-all hover:scale-105"
                    title="UygulamayÄ± YÃ¼kle">
                    <i class="fa-solid fa-download mr-2"></i>
                    <span>YÃ¼kle</span>
                </button>

                <!-- Connection Status Indicator -->
                <div id="connectionStatus"
                    class="flex items-center gap-2 bg-white/10 backdrop-blur-sm border border-white/20 px-3 py-2 rounded-full text-sm">
                    <div id="connectionDot" class="w-2 h-2 rounded-full bg-yellow-400 animate-pulse"></div>
                    <span id="connectionText" class="text-white/80">BaÄŸlanÄ±yor...</span>
                </div>

                <!-- Dark/Light Mode Toggle Button -->
                <button id="themeToggle"
                    class="bg-white/20 hover:bg-white/30 backdrop-blur-sm border border-white/10 text-white w-10 h-10 rounded-full flex items-center justify-center transition-transform hover:scale-105 shadow-lg active:scale-95"
                    title="TemayÄ± DeÄŸiÅŸtir">
                    <!-- Sun Icon (for Dark Mode) -->
                    <i class="fa-solid fa-sun text-yellow-300 text-lg hidden dark:block"></i>
                    <!-- Moon Icon (for Light Mode) -->
                    <i class="fa-solid fa-moon text-white text-lg dark:hidden"></i>
                </button>
            </div>
        </div>

        <!-- Toplam Bakiye Ã–zeti -->
        <div class="max-w-4xl mx-auto mt-8">
            <div class="text-blue-100 text-sm opacity-80">Tahmini Toplam VarlÄ±k</div>
            <div id="totalValue" class="text-5xl font-bold mt-2 tracking-tight">â‚º 0<span
                    class="text-2xl opacity-60">,00</span></div>

            <!-- Stats Row -->
            <div class="flex flex-wrap items-center gap-6 mt-6">
                <!-- GerÃ§ekleÅŸmemiÅŸ Kar (Aktif PortfÃ¶y) -->
                <div>
                    <div class="text-blue-200 text-xs font-medium mb-1 opacity-80">GerÃ§ekleÅŸmemiÅŸ K/Z</div>
                    <div id="totalProfit" class="text-2xl font-bold text-green-300 flex items-center gap-2">
                        â‚º 0
                        <span id="totalProfitPercent"
                            class="text-xs font-normal bg-green-400/20 px-2 py-0.5 rounded text-green-200 border border-green-400/20">%0</span>
                    </div>
                </div>

                <div class="hidden sm:block h-10 w-px bg-white/10"></div>

                <!-- GerÃ§ekleÅŸmiÅŸ Kar (SatÄ±ÅŸlardan) -->
                <div>
                    <div class="text-blue-200 text-xs font-medium mb-1 opacity-80">GerÃ§ekleÅŸmiÅŸ Kar</div>
                    <div id="realizedProfit" class="text-xl font-bold text-emerald-300 flex items-center gap-2">
                        <i class="fa-solid fa-check-circle text-sm"></i>
                        â‚º 0
                    </div>
                </div>

                <div class="hidden sm:block h-10 w-px bg-white/10"></div>

                <!-- Toplam Kar -->
                <div>
                    <div class="text-blue-200 text-xs font-medium mb-1 opacity-80">Toplam Kar</div>
                    <div id="totalOverallProfit" class="text-xl font-bold text-yellow-300 flex items-center gap-2">
                        <i class="fa-solid fa-coins text-sm"></i>
                        â‚º 0
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- MAIN CONTENT CONTAINER -->
    <main class="flex-grow -mt-16 px-4 pb-24 max-w-4xl mx-auto w-full z-10">

        <!-- PIE CHART SECTION -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
            <!-- VarlÄ±k DaÄŸÄ±lÄ±mÄ± (Mevcut) -->
            <div
                class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 p-6 transition-colors duration-300">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-lg font-bold text-gray-800 dark:text-white brand-font flex items-center gap-2">
                        <i class="fa-solid fa-chart-pie text-indigo-500"></i>
                        VarlÄ±k DaÄŸÄ±lÄ±mÄ±
                    </h2>
                </div>
                <div class="flex flex-col items-center gap-4">
                    <div class="relative" style="max-width: 200px; max-height: 200px;">
                        <canvas id="portfolioChart"></canvas>
                        <div id="chartEmptyState"
                            class="absolute inset-0 flex items-center justify-center text-gray-400 dark:text-gray-500">
                            <div class="text-center">
                                <i class="fa-solid fa-chart-pie text-3xl mb-2 opacity-30"></i>
                                <p class="text-xs">VarlÄ±k ekleyin</p>
                            </div>
                        </div>
                    </div>
                    <div id="chartLegend" class="w-full text-sm">
                        <!-- Dinamik olarak render edilecek -->
                    </div>
                </div>
            </div>

            <!-- TÃ¼r BazlÄ± AÄŸÄ±rlÄ±k -->
            <div
                class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 p-6 transition-colors duration-300">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-lg font-bold text-gray-800 dark:text-white brand-font flex items-center gap-2">
                        <i class="fa-solid fa-weight-scale text-purple-500"></i>
                        TÃ¼r AÄŸÄ±rlÄ±klarÄ±
                    </h2>
                </div>
                <div class="flex flex-col items-center gap-4">
                    <div class="relative" style="max-width: 200px; max-height: 200px;">
                        <canvas id="typeChart"></canvas>
                        <div id="typeChartEmptyState"
                            class="absolute inset-0 flex items-center justify-center text-gray-400 dark:text-gray-500">
                            <div class="text-center">
                                <i class="fa-solid fa-weight-scale text-3xl mb-2 opacity-30"></i>
                                <p class="text-xs">VarlÄ±k ekleyin</p>
                            </div>
                        </div>
                    </div>
                    <div id="typeLegend" class="w-full text-sm">
                        <!-- Dinamik olarak render edilecek -->
                    </div>
                </div>
            </div>
        </div>

        <!-- PORTFOLIO HISTORY CHART SECTION -->
        <div
            class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 p-6 mb-6 transition-colors duration-300">
            <div class="flex items-center justify-between mb-4">
                <h2 class="text-lg font-bold text-gray-800 dark:text-white brand-font flex items-center gap-2">
                    <i class="fa-solid fa-chart-line text-emerald-500"></i>
                    PortfÃ¶y DeÄŸer GeÃ§miÅŸi
                </h2>
                <div class="flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400">
                    <div class="flex items-center gap-1">
                        <div class="w-3 h-0.5 bg-emerald-500 rounded"></div>
                        <span>Toplam DeÄŸer</span>
                    </div>
                    <div class="flex items-center gap-1">
                        <div class="w-3 h-0.5 border-t-2 border-dashed border-blue-500"></div>
                        <span>Net YatÄ±rÄ±m</span>
                    </div>
                </div>
            </div>
            <div class="relative" style="height: 300px;">
                <canvas id="historyChart"></canvas>
                <div id="historyChartEmptyState"
                    class="absolute inset-0 flex items-center justify-center text-gray-400 dark:text-gray-500">
                    <div class="text-center">
                        <i class="fa-solid fa-chart-line text-4xl mb-3 opacity-30"></i>
                        <p class="text-sm mb-1">PortfÃ¶y geÃ§miÅŸi yok</p>
                        <p class="text-xs opacity-70">Ä°ÅŸlem yaparak geÃ§miÅŸ oluÅŸturun</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- MINI DASHBOARD -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
            <!-- En Ã‡ok KazandÄ±ran -->
            <div
                class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-4 transition-colors">
                <div class="flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mb-2">
                    <i class="fa-solid fa-arrow-trend-up text-green-500"></i>
                    En Ã‡ok KazandÄ±ran
                </div>
                <div id="topGainer" class="text-lg font-bold text-gray-800 dark:text-white">-</div>
                <div id="topGainerProfit" class="text-sm text-green-500">â‚º0 (+0%)</div>
            </div>

            <!-- En Ã‡ok Kaybettiren -->
            <div
                class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-4 transition-colors">
                <div class="flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mb-2">
                    <i class="fa-solid fa-arrow-trend-down text-red-500"></i>
                    En Ã‡ok Kaybettiren
                </div>
                <div id="topLoser" class="text-lg font-bold text-gray-800 dark:text-white">-</div>
                <div id="topLoserLoss" class="text-sm text-red-500">â‚º0 (-0%)</div>
            </div>

            <!-- DÃ¶viz Ã‡evirici -->
            <div class="bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl shadow-lg p-4 text-white">
                <div class="flex items-center gap-2 text-xs opacity-80 mb-2">
                    <i class="fa-solid fa-right-left"></i>
                    DÃ¶viz Ã‡evirici
                </div>
                <div class="flex items-center gap-2">
                    <input type="number" id="converterInput" value="1" step="any" min="0"
                        class="w-full bg-white/20 border-0 rounded-lg py-2 px-3 text-white placeholder-white/50 focus:ring-2 focus:ring-white/50 text-sm">
                    <select id="converterFrom"
                        class="bg-white/20 border-0 rounded-lg py-2 px-2 text-white text-sm focus:ring-2 focus:ring-white/50">
                        <option value="USD">USD</option>
                        <option value="TRY" selected>TRY</option>
                        <option value="EUR">EUR</option>
                    </select>
                </div>
                <div class="flex items-center gap-2 mt-2 text-xs opacity-80">
                    <i class="fa-solid fa-equals"></i>
                </div>
                <div class="flex items-center gap-2 mt-1">
                    <div id="converterResult" class="w-full bg-white/10 rounded-lg py-2 px-3 text-lg font-bold">0.00
                    </div>
                    <select id="converterTo"
                        class="bg-white/20 border-0 rounded-lg py-2 px-2 text-white text-sm focus:ring-2 focus:ring-white/50">
                        <option value="USD" selected>USD</option>
                        <option value="TRY">TRY</option>
                        <option value="EUR">EUR</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- ACTIONS & FILTER -->
        <div class="flex justify-between items-center mb-6 px-1">
            <h2 class="text-xl font-bold text-gray-800 dark:text-white brand-font hidden md:block transition-colors">
                VarlÄ±k Listesi</h2>

            <div class="flex items-center gap-2 ml-auto flex-wrap">
                <button id="refreshPricesBtn"
                    class="bg-emerald-100 hover:bg-emerald-200 dark:bg-emerald-900/30 dark:hover:bg-emerald-900/50 text-emerald-600 dark:text-emerald-400 px-4 py-3 rounded-xl flex items-center gap-2 transition text-sm font-medium"
                    title="FiyatlarÄ± API'lerden GÃ¼ncelle">
                    <i class="fa-solid fa-rotate" id="refreshIcon"></i>
                    <span class="hidden sm:inline">FiyatlarÄ± GÃ¼ncelle</span>
                </button>
                <button id="clearAllBtn"
                    class="bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:hover:bg-red-900/50 text-red-600 dark:text-red-400 px-4 py-3 rounded-xl flex items-center gap-2 transition text-sm font-medium"
                    title="TÃ¼m Verileri Temizle">
                    <i class="fa-solid fa-trash-can"></i>
                    <span class="hidden sm:inline">Temizle</span>
                </button>
                <button id="addAssetBtn"
                    class="bg-blue-600 hover:bg-blue-700 text-white px-5 py-3 rounded-xl shadow-lg shadow-blue-600/30 flex items-center gap-2 transition transform hover:-translate-y-1 active:scale-95 text-sm font-medium">
                    <i class="fa-solid fa-plus"></i>
                    <span>Yeni VarlÄ±k Ekle</span>
                </button>
            </div>
        </div>

        <!-- TAB NAVIGATION -->
        <div class="flex gap-2 mb-4 overflow-x-auto">
            <button id="tabPortfolio"
                class="tab-btn active px-4 py-2 rounded-lg font-medium text-sm transition flex items-center gap-2 bg-blue-600 text-white whitespace-nowrap"
                title="PortfÃ¶y gÃ¶rÃ¼nÃ¼mÃ¼ne geÃ§">
                <i class="fa-solid fa-wallet"></i>
                <span>PortfÃ¶y</span>
            </button>
            <button id="tabHistory"
                class="tab-btn px-4 py-2 rounded-lg font-medium text-sm transition flex items-center gap-2 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 whitespace-nowrap"
                title="Ä°ÅŸlem geÃ§miÅŸini gÃ¶rÃ¼ntÃ¼le">
                <i class="fa-solid fa-clock-rotate-left"></i>
                <span>GeÃ§miÅŸ</span>
            </button>
        </div>

        <!-- FILTER BUTTONS -->
        <div id="filterSection" class="flex flex-wrap gap-2 mb-4">
            <button id="filterAll"
                class="filter-btn px-3 py-1.5 rounded-lg text-xs font-medium transition bg-indigo-600 text-white"
                title="TÃ¼m varlÄ±klarÄ± gÃ¶ster">
                TÃ¼mÃ¼
            </button>
            <button id="filterCrypto"
                class="filter-btn px-3 py-1.5 rounded-lg text-xs font-medium transition bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"
                title="Sadece kripto paralarÄ± gÃ¶ster">
                <i class="fa-brands fa-bitcoin mr-1"></i>Kripto
            </button>
            <button id="filterStock"
                class="filter-btn px-3 py-1.5 rounded-lg text-xs font-medium transition bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"
                title="Sadece hisse senetlerini gÃ¶ster">
                <i class="fa-solid fa-building mr-1"></i>Hisse
            </button>
            <button id="filterGold"
                class="filter-btn px-3 py-1.5 rounded-lg text-xs font-medium transition bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"
                title="Sadece altÄ±n yatÄ±rÄ±mlarÄ±nÄ± gÃ¶ster">
                <i class="fa-solid fa-coins mr-1"></i>AltÄ±n
            </button>
            <button id="filterCurrency"
                class="filter-btn px-3 py-1.5 rounded-lg text-xs font-medium transition bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"
                title="Sadece dÃ¶viz yatÄ±rÄ±mlarÄ±nÄ± gÃ¶ster">
                <i class="fa-solid fa-money-bill-wave mr-1"></i>DÃ¶viz
            </button>
        </div>

        <!-- PORTFOLIO TAB CONTENT -->
        <div id="portfolioTab">
            <!-- PORTFOLIO TABLE / LIST -->
            <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 overflow-hidden transition-colors duration-300"
                id="portfolioTable">

                <!-- Desktop Table View -->
                <div class="hidden md:block overflow-x-auto">
                    <table class="w-full text-left border-collapse">
                        <thead>
                            <tr
                                class="bg-gray-50 dark:bg-gray-900/50 text-gray-500 dark:text-gray-400 text-xs uppercase tracking-wider border-b border-gray-100 dark:border-gray-700">
                                <th class="p-4 font-semibold">VarlÄ±k AdÄ±</th>
                                <th class="p-4 font-semibold text-right">Miktar</th>
                                <th class="p-4 font-semibold text-right">Ort. AlÄ±ÅŸ</th>
                                <th class="p-4 font-semibold text-right">GÃ¼ncel Fiyat</th>
                                <th class="p-4 font-semibold text-right">Kar/Zarar</th>
                                <th class="p-4 font-semibold text-center w-40">Ä°ÅŸlemler</th>
                            </tr>
                        </thead>
                        <tbody id="desktopTableBody" class="divide-y divide-gray-100 dark:divide-gray-700 text-sm">
                            <!-- Dinamik olarak render edilecek -->
                        </tbody>
                    </table>
                </div>

                <!-- Mobile List View (Cards) -->
                <div id="mobileAssetList" class="md:hidden flex flex-col divide-y divide-gray-100 dark:divide-gray-700">
                    <!-- Dinamik olarak render edilecek -->
                </div>
            </div>
        </div>

        <!-- HISTORY TAB CONTENT -->
        <div id="historyTab" class="hidden">
            <div
                class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 overflow-hidden transition-colors duration-300">
                <div class="p-4 border-b border-gray-100 dark:border-gray-700 flex items-center justify-between">
                    <h3 class="font-semibold text-gray-800 dark:text-white flex items-center gap-2">
                        <i class="fa-solid fa-clock-rotate-left text-indigo-500"></i>
                        Ä°ÅŸlem GeÃ§miÅŸi
                    </h3>
                    <span id="historyCount"
                        class="text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full">0
                        iÅŸlem</span>
                </div>
                <div id="historyList"
                    class="divide-y divide-gray-100 dark:divide-gray-700 max-h-[500px] overflow-y-auto">
                    <!-- Dinamik olarak render edilecek -->
                </div>
            </div>
        </div>
    </main>

    <!-- ADD ASSET MODAL -->
    <div id="addAssetModal" class="fixed inset-0 z-50 hidden" aria-labelledby="modal-title" role="dialog"
        aria-modal="true">
        <div class="fixed inset-0 bg-gray-900/60 backdrop-blur-sm transition-opacity opacity-0 modal-backdrop modal-close-backdrop"
            data-modal="addAssetModal"></div>
        <div class="fixed inset-0 z-10 w-screen overflow-y-auto">
            <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
                <div
                    class="relative transform overflow-hidden rounded-2xl bg-white dark:bg-gray-800 text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-lg opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95 modal-panel">
                    <form id="addAssetForm">
                        <div
                            class="bg-gray-50 dark:bg-gray-900 px-4 py-3 sm:px-6 flex justify-between items-center border-b border-gray-100 dark:border-gray-700">
                            <h3 class="text-base font-semibold leading-6 text-gray-900 dark:text-white">Yeni VarlÄ±k Ekle
                            </h3>
                            <button type="button"
                                class="modal-close-btn text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 transition"
                                data-modal="addAssetModal">
                                <i class="fa-solid fa-xmark text-xl"></i>
                            </button>
                        </div>
                        <div class="px-4 py-5 sm:p-6 space-y-4">
                            <!-- HazÄ±r VarlÄ±k SeÃ§imi -->
                            <div>
                                <label
                                    class="block text-sm font-medium leading-6 text-gray-900 dark:text-gray-300 mb-1">
                                    <i class="fa-solid fa-list-check mr-1 text-indigo-500"></i>
                                    HazÄ±r VarlÄ±k SeÃ§
                                </label>
                                <select id="presetAssetSelect"
                                    class="block w-full rounded-lg border-0 py-2.5 px-3 text-gray-900 dark:text-white shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 bg-gray-50 dark:bg-gray-700">
                                    <option value="">-- SeÃ§in veya manuel girin --</option>
                                    <optgroup label="ðŸª™ Kripto Paralar">
                                        <option value="crypto|Bitcoin|BTC">Bitcoin (BTC)</option>
                                        <option value="crypto|Ethereum|ETH">Ethereum (ETH)</option>
                                        <option value="crypto|Binance Coin|BNB">Binance Coin (BNB)</option>
                                        <option value="crypto|Solana|SOL">Solana (SOL)</option>
                                        <option value="crypto|XRP|XRP">XRP (XRP)</option>
                                        <option value="crypto|Cardano|ADA">Cardano (ADA)</option>
                                        <option value="crypto|Dogecoin|DOGE">Dogecoin (DOGE)</option>
                                        <option value="crypto|Polkadot|DOT">Polkadot (DOT)</option>
                                        <option value="crypto|Avalanche|AVAX">Avalanche (AVAX)</option>
                                        <option value="crypto|Chainlink|LINK">Chainlink (LINK)</option>
                                        <option value="crypto|Litecoin|LTC">Litecoin (LTC)</option>
                                        <option value="crypto|Polygon|MATIC">Polygon (MATIC)</option>
                                        <option value="crypto|Uniswap|UNI">Uniswap (UNI)</option>
                                        <option value="crypto|Shiba Inu|SHIB">Shiba Inu (SHIB)</option>
                                    </optgroup>
                                    <optgroup label="ðŸ¢ US Hisse Senetleri">
                                        <option value="stock|Apple|AAPL">Apple (AAPL)</option>
                                        <option value="stock|Tesla|TSLA">Tesla (TSLA)</option>
                                        <option value="stock|Microsoft|MSFT">Microsoft (MSFT)</option>
                                        <option value="stock|Google|GOOGL">Google (GOOGL)</option>
                                        <option value="stock|Amazon|AMZN">Amazon (AMZN)</option>
                                        <option value="stock|Meta|META">Meta (META)</option>
                                        <option value="stock|NVIDIA|NVDA">NVIDIA (NVDA)</option>
                                        <option value="stock|Netflix|NFLX">Netflix (NFLX)</option>
                                        <option value="stock|AMD|AMD">AMD (AMD)</option>
                                        <option value="stock|Intel|INTC">Intel (INTC)</option>
                                    </optgroup>
                                    <optgroup label="ðŸ’µ DÃ¶viz">
                                        <option value="currency|Amerikan DolarÄ±|USD">Amerikan DolarÄ± (USD)</option>
                                        <option value="currency|Euro|EUR">Euro (EUR)</option>
                                        <option value="currency|Ä°ngiliz Sterlini|GBP">Ä°ngiliz Sterlini (GBP)</option>
                                    </optgroup>
                                    <optgroup label="ðŸ’° DeÄŸerli Metaller">
                                        <option value="gold|Gram AltÄ±n|GOLD">Gram AltÄ±n</option>
                                        <option value="gold|Ã‡eyrek AltÄ±n|CEYREK">Ã‡eyrek AltÄ±n</option>
                                        <option value="gold|YarÄ±m AltÄ±n|YARIM">YarÄ±m AltÄ±n</option>
                                        <option value="gold|Tam AltÄ±n|TAM">Tam AltÄ±n</option>
                                    </optgroup>
                                </select>
                                <p class="text-xs text-gray-400 mt-1">Listeden seÃ§im yapÄ±n veya aÅŸaÄŸÄ±dan manuel girin
                                </p>
                            </div>

                            <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
                                <p class="text-xs text-gray-500 dark:text-gray-400 mb-3">
                                    <i class="fa-solid fa-pen mr-1"></i> VarlÄ±k DetaylarÄ±
                                </p>
                            </div>

                            <div>
                                <label
                                    class="block text-sm font-medium leading-6 text-gray-900 dark:text-gray-300 mb-1">VarlÄ±k
                                    TÃ¼rÃ¼</label>
                                <select name="type" id="addAssetType" required
                                    class="block w-full rounded-lg border-0 py-2.5 px-3 text-gray-900 dark:text-white shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 bg-gray-50 dark:bg-gray-700">
                                    <option value="Kripto Para">Kripto Para</option>
                                    <option value="Hisse Senedi">Hisse Senedi</option>
                                    <option value="AltÄ±n">AltÄ±n</option>
                                    <option value="DÃ¶viz">DÃ¶viz</option>
                                </select>
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label
                                        class="block text-sm font-medium leading-6 text-gray-900 dark:text-gray-300 mb-1">VarlÄ±k
                                        AdÄ±</label>
                                    <input type="text" name="name" id="addAssetName" placeholder="Bitcoin" required
                                        class="block w-full rounded-lg border-0 py-2.5 px-3 text-gray-900 dark:text-white shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 dark:bg-gray-700">
                                </div>
                                <div>
                                    <label
                                        class="block text-sm font-medium leading-6 text-gray-900 dark:text-gray-300 mb-1">Sembol</label>
                                    <input type="text" name="symbol" id="addAssetSymbol" placeholder="BTC" required
                                        class="block w-full rounded-lg border-0 py-2.5 px-3 text-gray-900 dark:text-white shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 dark:bg-gray-700">
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label
                                        class="block text-sm font-medium leading-6 text-gray-900 dark:text-gray-300 mb-1">Miktar</label>
                                    <input type="number" name="quantity" placeholder="0.00" step="any" required
                                        class="block w-full rounded-lg border-0 py-2.5 px-3 text-gray-900 dark:text-white shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 dark:bg-gray-700">
                                </div>
                                <div>
                                    <label
                                        class="block text-sm font-medium leading-6 text-gray-900 dark:text-gray-300 mb-1">AlÄ±ÅŸ
                                        FiyatÄ±</label>
                                    <input type="number" name="avg_cost" placeholder="0.00" step="any" required
                                        class="block w-full rounded-lg border-0 py-2.5 px-3 text-gray-900 dark:text-white shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 dark:bg-gray-700">
                                </div>
                            </div>
                            <div>
                                <label
                                    class="block text-sm font-medium leading-6 text-gray-900 dark:text-gray-300 mb-1">Para
                                    Birimi</label>
                                <select name="currency"
                                    class="block w-full rounded-lg border-0 py-2.5 px-3 text-gray-900 dark:text-white shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 bg-gray-50 dark:bg-gray-700">
                                    <option value="TRY">TRY (â‚º)</option>
                                    <option value="USD">USD ($)</option>
                                </select>
                            </div>
                        </div>
                        <div class="bg-gray-50 dark:bg-gray-900 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6 gap-2">
                            <button type="submit"
                                class="inline-flex w-full justify-center rounded-lg bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 sm:ml-3 sm:w-auto transition">Ekle</button>
                            <button type="button"
                                class="modal-close-btn mt-3 inline-flex w-full justify-center rounded-lg bg-white dark:bg-gray-700 px-3 py-2 text-sm font-semibold text-gray-900 dark:text-white shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 sm:mt-0 sm:w-auto transition"
                                data-modal="addAssetModal">Ä°ptal</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- SELL ASSET MODAL -->
    <div id="sellAssetModal" class="fixed inset-0 z-50 hidden" aria-labelledby="modal-title" role="dialog"
        aria-modal="true">
        <div class="fixed inset-0 bg-gray-900/60 backdrop-blur-sm transition-opacity opacity-0 modal-backdrop modal-close-backdrop"
            data-modal="sellAssetModal"></div>
        <div class="fixed inset-0 z-10 w-screen overflow-y-auto">
            <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
                <div
                    class="relative transform overflow-hidden rounded-2xl bg-white dark:bg-gray-800 text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-lg opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95 modal-panel">
                    <form id="sellAssetForm">
                        <div
                            class="bg-orange-50 dark:bg-orange-900/20 px-4 py-3 sm:px-6 flex justify-between items-center border-b border-orange-100 dark:border-orange-900/30">
                            <div>
                                <h3 class="text-base font-semibold leading-6 text-orange-900 dark:text-orange-100">
                                    VarlÄ±k SatÄ±ÅŸÄ±</h3>
                                <p id="sellAssetName" class="text-sm text-orange-600 dark:text-orange-300"></p>
                            </div>
                            <button type="button"
                                class="modal-close-btn text-orange-400 hover:text-orange-500 transition"
                                data-modal="sellAssetModal">
                                <i class="fa-solid fa-xmark text-xl"></i>
                            </button>
                        </div>
                        <div class="px-4 py-5 sm:p-6 space-y-4">
                            <p id="sellMaxQuantity" class="text-sm text-gray-500 dark:text-gray-400"></p>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label
                                        class="block text-sm font-medium leading-6 text-gray-900 dark:text-gray-300 mb-1">SatÄ±lacak
                                        Miktar</label>
                                    <input type="number" name="quantity" placeholder="0.00" step="any" required
                                        class="block w-full rounded-lg border-0 py-2.5 px-3 text-gray-900 dark:text-white shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-orange-600 sm:text-sm sm:leading-6 dark:bg-gray-700">
                                </div>
                                <div>
                                    <label
                                        class="block text-sm font-medium leading-6 text-gray-900 dark:text-gray-300 mb-1">SatÄ±ÅŸ
                                        FiyatÄ±</label>
                                    <input type="number" name="price" placeholder="0.00" step="any" required
                                        class="block w-full rounded-lg border-0 py-2.5 px-3 text-gray-900 dark:text-white shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-orange-600 sm:text-sm sm:leading-6 dark:bg-gray-700">
                                </div>
                            </div>
                        </div>
                        <div class="bg-gray-50 dark:bg-gray-900 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6 gap-2">
                            <button type="submit"
                                class="inline-flex w-full justify-center rounded-lg bg-orange-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 sm:ml-3 sm:w-auto transition">SatÄ±ÅŸÄ±
                                Onayla</button>
                            <button type="button"
                                class="modal-close-btn mt-3 inline-flex w-full justify-center rounded-lg bg-white dark:bg-gray-700 px-3 py-2 text-sm font-semibold text-gray-900 dark:text-white shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 sm:mt-0 sm:w-auto transition"
                                data-modal="sellAssetModal">Ä°ptal</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- BUY ASSET MODAL (Mevcut varlÄ±ÄŸa alÄ±m ekleme) -->
    <div id="buyAssetModal" class="fixed inset-0 z-50 hidden" aria-labelledby="modal-title" role="dialog"
        aria-modal="true">
        <div class="fixed inset-0 bg-gray-900/60 backdrop-blur-sm transition-opacity opacity-0 modal-backdrop modal-close-backdrop"
            data-modal="buyAssetModal"></div>
        <div class="fixed inset-0 z-10 w-screen overflow-y-auto">
            <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
                <div
                    class="relative transform overflow-hidden rounded-2xl bg-white dark:bg-gray-800 text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-lg opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95 modal-panel">
                    <form id="buyAssetForm">
                        <div
                            class="bg-blue-50 dark:bg-blue-900/20 px-4 py-3 sm:px-6 flex justify-between items-center border-b border-blue-100 dark:border-blue-900/30">
                            <div>
                                <h3 class="text-base font-semibold leading-6 text-blue-900 dark:text-blue-100">AlÄ±m Ekle
                                </h3>
                                <p id="buyAssetName" class="text-sm text-blue-600 dark:text-blue-300"></p>
                            </div>
                            <button type="button" class="modal-close-btn text-blue-400 hover:text-blue-500 transition"
                                data-modal="buyAssetModal">
                                <i class="fa-solid fa-xmark text-xl"></i>
                            </button>
                        </div>
                        <div class="px-4 py-5 sm:p-6 space-y-4">
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label
                                        class="block text-sm font-medium leading-6 text-gray-900 dark:text-gray-300 mb-1">Eklenecek
                                        Miktar</label>
                                    <input type="number" name="quantity" placeholder="0.00" step="any" required
                                        class="block w-full rounded-lg border-0 py-2.5 px-3 text-gray-900 dark:text-white shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6 dark:bg-gray-700">
                                </div>
                                <div>
                                    <label
                                        class="block text-sm font-medium leading-6 text-gray-900 dark:text-gray-300 mb-1">AlÄ±ÅŸ
                                        FiyatÄ±</label>
                                    <input type="number" name="price" placeholder="0.00" step="any" required
                                        class="block w-full rounded-lg border-0 py-2.5 px-3 text-gray-900 dark:text-white shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6 dark:bg-gray-700">
                                </div>
                            </div>
                        </div>
                        <div class="bg-gray-50 dark:bg-gray-900 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6 gap-2">
                            <button type="submit"
                                class="inline-flex w-full justify-center rounded-lg bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 sm:ml-3 sm:w-auto transition">AlÄ±m
                                Ekle</button>
                            <button type="button"
                                class="modal-close-btn mt-3 inline-flex w-full justify-center rounded-lg bg-white dark:bg-gray-700 px-3 py-2 text-sm font-semibold text-gray-900 dark:text-white shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 sm:mt-0 sm:w-auto transition"
                                data-modal="buyAssetModal">Ä°ptal</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- EDIT ASSET MODAL -->
    <div id="editAssetModal" class="fixed inset-0 z-50 hidden" aria-labelledby="modal-title" role="dialog"
        aria-modal="true">
        <div class="fixed inset-0 bg-gray-900/60 backdrop-blur-sm transition-opacity opacity-0 modal-backdrop modal-close-backdrop"
            data-modal="editAssetModal"></div>
        <div class="fixed inset-0 z-10 w-screen overflow-y-auto">
            <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
                <div
                    class="relative transform overflow-hidden rounded-2xl bg-white dark:bg-gray-800 text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-lg opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95 modal-panel">
                    <form id="editAssetForm">
                        <div
                            class="bg-emerald-50 dark:bg-emerald-900/20 px-4 py-3 sm:px-6 flex justify-between items-center border-b border-emerald-100 dark:border-emerald-900/30">
                            <div>
                                <h3 class="text-base font-semibold leading-6 text-emerald-900 dark:text-emerald-100">
                                    <i class="fa-solid fa-pen-to-square mr-2"></i>VarlÄ±k DÃ¼zenle
                                </h3>
                                <p id="editAssetName" class="text-sm text-emerald-600 dark:text-emerald-300"></p>
                            </div>
                            <button type="button"
                                class="modal-close-btn text-emerald-400 hover:text-emerald-500 transition"
                                data-modal="editAssetModal">
                                <i class="fa-solid fa-xmark text-xl"></i>
                            </button>
                        </div>
                        <div class="px-4 py-5 sm:p-6 space-y-4">
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label
                                        class="block text-sm font-medium leading-6 text-gray-900 dark:text-gray-300 mb-1">Miktar</label>
                                    <input type="number" name="quantity" id="editQuantity" placeholder="0.00" step="any"
                                        required
                                        class="block w-full rounded-lg border-0 py-2.5 px-3 text-gray-900 dark:text-white shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6 dark:bg-gray-700">
                                </div>
                                <div>
                                    <label
                                        class="block text-sm font-medium leading-6 text-gray-900 dark:text-gray-300 mb-1">Ort.
                                        AlÄ±ÅŸ FiyatÄ±</label>
                                    <input type="number" name="avg_cost" id="editAvgCost" placeholder="0.00" step="any"
                                        required
                                        class="block w-full rounded-lg border-0 py-2.5 px-3 text-gray-900 dark:text-white shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6 dark:bg-gray-700">
                                </div>
                            </div>
                            <div>
                                <label
                                    class="block text-sm font-medium leading-6 text-gray-900 dark:text-gray-300 mb-1">GÃ¼ncel
                                    Fiyat</label>
                                <input type="number" name="current_price" id="editCurrentPrice" placeholder="0.00"
                                    step="any" required
                                    class="block w-full rounded-lg border-0 py-2.5 px-3 text-gray-900 dark:text-white shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6 dark:bg-gray-700">
                                <p class="text-xs text-gray-400 mt-1">GÃ¼ncel fiyatÄ± gÃ¼ncelleyerek kar/zarar hesabÄ±nÄ±
                                    deÄŸiÅŸtirebilirsiniz.</p>
                            </div>
                        </div>
                        <div class="bg-gray-50 dark:bg-gray-900 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6 gap-2">
                            <button type="submit"
                                class="inline-flex w-full justify-center rounded-lg bg-emerald-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-emerald-500 sm:ml-3 sm:w-auto transition">
                                <i class="fa-solid fa-check mr-2"></i>GÃ¼ncelle
                            </button>
                            <button type="button"
                                class="modal-close-btn mt-3 inline-flex w-full justify-center rounded-lg bg-white dark:bg-gray-700 px-3 py-2 text-sm font-semibold text-gray-900 dark:text-white shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 sm:mt-0 sm:w-auto transition"
                                data-modal="editAssetModal">Ä°ptal</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- ALERT MODAL -->
    <div id="alertModal"
        class="hidden fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 backdrop-blur-sm">
        <div
            class="bg-white dark:bg-gray-800 rounded-2xl w-full max-w-sm shadow-2xl border border-gray-100 dark:border-gray-700 p-6">
            <h3 class="text-lg font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2">
                <i class="fa-regular fa-bell text-indigo-500"></i>
                Fiyat AlarmÄ± Kur
            </h3>

            <div class="mb-4">
                <label class="block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1">VarlÄ±k</label>
                <input type="text" id="alertSymbol" readonly
                    class="w-full bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg p-3 font-bold">
            </div>

            <div class="mb-4">
                <div class="flex justify-between text-xs mb-1">
                    <label class="font-medium text-gray-500 dark:text-gray-400">Hedef Fiyat</label>
                    <span class="text-indigo-500">Mevcut: <span id="alertCurrentPrice">0</span></span>
                </div>
                <input type="number" id="alertThreshold" step="any"
                    class="w-full bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 text-gray-800 dark:text-gray-200 rounded-lg p-3 focus:ring-2 focus:ring-indigo-500 outline-none transition">
            </div>

            <!-- Active Alerts Mini List -->
            <div class="mb-6">
                <h4 class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2">Aktif Alarmlar</h4>
                <div id="activeAlertsList" class="max-h-32 overflow-y-auto custom-scrollbar">
                    <!-- Alerts will be injected here -->
                </div>
            </div>

            <div class="flex gap-3">
                <button id="alertCancelBtn"
                    class="flex-1 py-3 rounded-xl font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition">Ä°ptal</button>
                <button id="alertCreateBtn"
                    class="flex-1 py-3 rounded-xl font-bold text-white bg-indigo-600 hover:bg-indigo-700 shadow-lg shadow-indigo-500/30 transition">Alarm
                    Kur</button>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-spinner"></div>
    </div>

    <!-- Notification Permission Banner -->
    <div id="notificationBanner"
        class="fixed top-4 left-1/2 -translate-x-1/2 bg-indigo-600 text-white px-4 py-3 rounded-xl shadow-xl z-50 flex items-center gap-4 hidden">
        <div class="flex items-center gap-2">
            <i class="fa-solid fa-bell"></i>
            <span class="text-sm font-medium">AnlÄ±k fiyat bildirimlerini aÃ§Ä±n</span>
        </div>
        <button id="enableNotificationsBtn"
            class="bg-white text-indigo-600 px-3 py-1 rounded-lg text-xs font-bold hover:bg-gray-100 transition">
            AÃ§
        </button>
        <button id="closeNotificationBannerBtn" class="text-white/60 hover:text-white">
            <i class="fa-solid fa-xmark"></i>
        </button>
    </div>

    <!-- PWA Update Notification -->
    <div id="pwaUpdateNotification"
        class="fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 bg-gray-900 border border-gray-700 text-white rounded-xl shadow-2xl p-4 transform translate-y-full transition-transform duration-300 z-50 hidden">
        <div class="flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center animate-pulse">
                    <i class="fa-solid fa-cloud-arrow-down text-lg"></i>
                </div>
                <div>
                    <h4 class="font-bold text-sm">Yeni SÃ¼rÃ¼m Mevcut</h4>
                    <p class="text-xs text-gray-400">En son Ã¶zellikler iÃ§in yenileyin.</p>
                </div>
            </div>
            <div class="flex gap-2">
                <button id="closePwaUpdateBtn" class="text-gray-400 hover:text-white px-2 py-1 text-xs">
                    Kapat
                </button>
                <button id="pwaUpdateBtn"
                    class="bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-1.5 rounded-lg text-xs font-semibold shadow-lg transition-transform active:scale-95">
                    Yenile
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/luxon@3.4.4"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@1.3.1"></script>
    <script
        src="https://cdn.jsdelivr.net/npm/chartjs-chart-financial@0.2.1/dist/chartjs-chart-financial.min.js"></script>
    <script src="/public/js/idb-helper.js"></script>
    <script src="/public/js/loading-states.js"></script>
    <script src="/public/js/charts-advanced.js"></script>
    <script src="/public/js/notifications.js"></script>
    <script src="/public/js/alerts.js"></script>
    <script src="/public/js/realtime.js"></script>
    <script src="/public/js/pwa-install.js"></script>
    <script src="/public/js/touch-gestures.js"></script>
    <script src="/public/js/app.js?v=1.0.2"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('âœ… SW Registered: ', registration.scope);
                    })
                    .catch(error => {
                        console.log('âŒ SW Registration Failed: ', error);
                    });
            });
        }
    </script>
</body>

</html>